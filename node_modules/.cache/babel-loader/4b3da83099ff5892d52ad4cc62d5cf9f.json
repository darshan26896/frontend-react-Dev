{"ast":null,"code":"import _objectSpread from \"/home/shivanee/Downloads/ETM-project/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/home/shivanee/Downloads/ETM-project/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/shivanee/Downloads/ETM-project/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/shivanee/Downloads/ETM-project/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useReducer, useCallback } from \"react\";\nvar httpReducer = function httpReducer(state, action) {\n  if (action.type === 'SEND') {\n    return {\n      data: null,\n      error: null,\n      status: 'pending'\n    };\n  }\n  if (action.type === 'SUCCESS') {\n    return {\n      data: action.responseData,\n      error: null,\n      status: 'completed'\n    };\n  }\n  if (action.type === 'ERROR') {\n    return {\n      data: null,\n      error: action.errorMessage,\n      status: 'completed'\n    };\n  }\n  return state;\n};\nfunction useHttp(requestFunction) {\n  var startWithPending = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var _useReducer = useReducer(httpReducer, {\n      status: startWithPending ? 'pending' : null,\n      data: null,\n      error: null\n    }),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    httpState = _useReducer2[0],\n    dispatch = _useReducer2[1];\n  var sendRequest = useCallback( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(requestData) {\n      var responseData;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              //console.log(requestData,\"requestData\")\n              dispatch({\n                type: 'SEND'\n              });\n              _context.prev = 1;\n              _context.next = 4;\n              return requestFunction(requestData);\n            case 4:\n              responseData = _context.sent;\n              dispatch({\n                type: 'SUCCESS',\n                responseData: responseData\n              });\n              _context.next = 11;\n              break;\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              dispatch({\n                type: 'ERROR',\n                errorMessage: _context.t0.message || 'Something went wrong!'\n              });\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 8]]);\n    }));\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(), [requestFunction]);\n  // console.log('http 56',sendRequest);\n\n  //console.log('usehttp 56',sendRequest, httpState);\n  return _objectSpread({\n    sendRequest: sendRequest\n  }, httpState);\n}\n;\nexport default useHttp;","map":{"version":3,"names":["useReducer","useCallback","httpReducer","state","action","type","data","error","status","responseData","errorMessage","useHttp","requestFunction","startWithPending","arguments","length","undefined","_useReducer","_useReducer2","_slicedToArray","httpState","dispatch","sendRequest","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","requestData","wrap","_callee$","_context","prev","next","sent","t0","message","stop","_x","apply","_objectSpread"],"sources":["/home/shivanee/Downloads/ETM-project/react/src/app/modules/Employee/hooks/use-http.js"],"sourcesContent":["import { useReducer, useCallback } from \"react\";\r\n\r\nconst httpReducer = (state, action) => {\r\n    if (action.type === 'SEND') {\r\n      return {\r\n        data: null,\r\n        error: null,\r\n        status: 'pending',\r\n      };\r\n    }\r\n  \r\n    if (action.type === 'SUCCESS') {\r\n      return {\r\n        data: action.responseData,\r\n        error: null,\r\n        status: 'completed',\r\n      };\r\n    }\r\n  \r\n    if (action.type === 'ERROR') {\r\n      return {\r\n        data: null,\r\n        error: action.errorMessage,\r\n        status: 'completed',\r\n      };\r\n    }\r\n  \r\n    return state;\r\n  }\r\n\r\n\r\n  function useHttp(requestFunction, startWithPending = false) {\r\n\r\n  const [httpState, dispatch] = useReducer(httpReducer, {\r\n    status: startWithPending ? 'pending' : null,\r\n    data: null,\r\n    error: null,\r\n  });\r\n\r\n  \r\n  const sendRequest = useCallback(\r\n    async function (requestData) {\r\n      //console.log(requestData,\"requestData\")\r\n      dispatch({ type: 'SEND' });\r\n      try {\r\n        const responseData = await requestFunction(requestData);\r\n        dispatch({ type: 'SUCCESS', responseData });\r\n      } catch (error) {\r\n        dispatch({\r\n          type: 'ERROR',\r\n          errorMessage: error.message || 'Something went wrong!',\r\n        });\r\n      }\r\n    },\r\n    [requestFunction]\r\n  );\r\n  // console.log('http 56',sendRequest);\r\n\r\n  //console.log('usehttp 56',sendRequest, httpState);\r\n  return {\r\n    sendRequest,\r\n    ...httpState,\r\n  };\r\n};\r\n\r\nexport default useHttp;"],"mappings":";;;;AAAA,SAASA,UAAU,EAAEC,WAAW,QAAQ,OAAO;AAE/C,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAIC,KAAK,EAAEC,MAAM,EAAK;EACnC,IAAIA,MAAM,CAACC,IAAI,KAAK,MAAM,EAAE;IAC1B,OAAO;MACLC,IAAI,EAAE,IAAI;MACVC,KAAK,EAAE,IAAI;MACXC,MAAM,EAAE;IACV,CAAC;EACH;EAEA,IAAIJ,MAAM,CAACC,IAAI,KAAK,SAAS,EAAE;IAC7B,OAAO;MACLC,IAAI,EAAEF,MAAM,CAACK,YAAY;MACzBF,KAAK,EAAE,IAAI;MACXC,MAAM,EAAE;IACV,CAAC;EACH;EAEA,IAAIJ,MAAM,CAACC,IAAI,KAAK,OAAO,EAAE;IAC3B,OAAO;MACLC,IAAI,EAAE,IAAI;MACVC,KAAK,EAAEH,MAAM,CAACM,YAAY;MAC1BF,MAAM,EAAE;IACV,CAAC;EACH;EAEA,OAAOL,KAAK;AACd,CAAC;AAGD,SAASQ,OAAOA,CAACC,eAAe,EAA4B;EAAA,IAA1BC,gBAAgB,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;EAE1D,IAAAG,WAAA,GAA8BjB,UAAU,CAACE,WAAW,EAAE;MACpDM,MAAM,EAAEK,gBAAgB,GAAG,SAAS,GAAG,IAAI;MAC3CP,IAAI,EAAE,IAAI;MACVC,KAAK,EAAE;IACT,CAAC,CAAC;IAAAW,YAAA,GAAAC,cAAA,CAAAF,WAAA;IAJKG,SAAS,GAAAF,YAAA;IAAEG,QAAQ,GAAAH,YAAA;EAO1B,IAAMI,WAAW,GAAGrB,WAAW;IAAA,IAAAsB,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,CAAAC,IAAA,CAC7B,SAAAC,QAAgBC,WAAW;MAAA,IAAAnB,YAAA;MAAA,OAAAgB,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA;UAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACzB;cACAZ,QAAQ,CAAC;gBAAEhB,IAAI,EAAE;cAAO,CAAC,CAAC;cAAC0B,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEErB,eAAe,CAACgB,WAAW,CAAC;YAAA;cAAjDnB,YAAY,GAAAsB,QAAA,CAAAG,IAAA;cAClBb,QAAQ,CAAC;gBAAEhB,IAAI,EAAE,SAAS;gBAAEI,YAAY,EAAZA;cAAa,CAAC,CAAC;cAACsB,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAI,EAAA,GAAAJ,QAAA;cAE5CV,QAAQ,CAAC;gBACPhB,IAAI,EAAE,OAAO;gBACbK,YAAY,EAAEqB,QAAA,CAAAI,EAAA,CAAMC,OAAO,IAAI;cACjC,CAAC,CAAC;YAAC;YAAA;cAAA,OAAAL,QAAA,CAAAM,IAAA;UAAA;QAAA;MAAA,GAAAV,OAAA;IAAA,CAEN;IAAA,iBAAAW,EAAA;MAAA,OAAAf,IAAA,CAAAgB,KAAA,OAAAzB,SAAA;IAAA;EAAA,KACD,CAACF,eAAe,CAAC,CAClB;EACD;;EAEA;EACA,OAAA4B,aAAA;IACElB,WAAW,EAAXA;EAAW,GACRF,SAAS;AAEhB;AAAC;AAED,eAAeT,OAAO"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _toConsumableArray from \"/home/shivanee/Downloads/ETM-project/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/home/shivanee/Downloads/ETM-project/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/shivanee/Downloads/ETM-project/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/shivanee/Downloads/ETM-project/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/shivanee/Downloads/ETM-project/react/src/app/modules/roles/EditRole.js\";\nimport React, { useState, useEffect, useCallback, useMemo } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { editRole, showRoleById, showModules, showRights } from \"./redux/functions\";\nimport { RoleEdit, ShowROLEById } from \"./redux/action\";\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport Select from \"react-select\";\nimport { Card, CardHeader } from \"../../../_metronic/_partials/controls\";\nimport Toaster from \"../../modules/components/Toaster\";\nimport { uiActions } from \"../../modules/Employee/redux/uiSlice\";\nimport moment from 'moment';\nimport ModuleList from \"./ModuleList\";\nimport { createCommonRights, checkNewCheckBox, checkInternalModule } from './userCommon';\nimport { isObject } from \"lodash\";\nfunction EditRole(props) {\n  var intialValues = {\n    rolename: \"\",\n    isactive: \"\",\n    rights: \"\"\n  };\n  var _useState = useState(intialValues),\n    _useState2 = _slicedToArray(_useState, 2),\n    formValues = _useState2[0],\n    setFormValues = _useState2[1];\n  var _useState3 = useState({}),\n    _useState4 = _slicedToArray(_useState3, 2),\n    formErrors = _useState4[0],\n    setFormErrors = _useState4[1];\n  var _useState5 = useState({}),\n    _useState6 = _slicedToArray(_useState5, 2),\n    formValbyid = _useState6[0],\n    setFormvalbyid = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    rolenameerrors = _useState8[0],\n    setRoleNameErros = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    loading = _useState10[0],\n    setLoading = _useState10[1];\n  var _useState11 = useState({}),\n    _useState12 = _slicedToArray(_useState11, 2),\n    rights = _useState12[0],\n    setRights = _useState12[1];\n  var _useState13 = useState({}),\n    _useState14 = _slicedToArray(_useState13, 2),\n    module = _useState14[0],\n    setModule = _useState14[1];\n  var dispatch = useDispatch();\n  var _useParams = useParams(),\n    id = _useParams.id;\n  var user = JSON.parse(localStorage.getItem('user'));\n  var handleChange = function handleChange(e) {\n    var _e$target = e.target,\n      name = _e$target.name,\n      value = _e$target.value;\n    setFormValues(_objectSpread(_objectSpread({}, formValues), {}, _defineProperty({}, name, value)));\n    setFormvalbyid(_objectSpread(_objectSpread({}, formValbyid), {}, _defineProperty({}, name, value)));\n  };\n  useEffect(function () {\n    loadRights();\n    loadModules();\n  }, []);\n  var loadRights = function loadRights() {\n    showRights(user).then(function (response) {\n      return response.json();\n    }).then(function (responseJson) {\n      setRights(responseJson.items);\n    });\n  };\n  var loadModules = function loadModules() {\n    showModules(user).then(function (response) {\n      return response.json();\n    }).then(function (responseJson) {\n      setModule(responseJson.items);\n    });\n  };\n  var rightsList = Object.values(rights).map(function (userVal) {\n    return {\n      value: userVal._id,\n      name: userVal.name,\n      slug: userVal.slug,\n      module_id: userVal.moduleID\n    };\n  });\n  var modulesList = Object.values(module).map(function (userVal) {\n    return {\n      value: userVal._id,\n      name: userVal.name,\n      slug: userVal.slug\n    };\n  });\n  var _useState15 = useState([]),\n    _useState16 = _slicedToArray(_useState15, 2),\n    selectedRole = _useState16[0],\n    setSelectedRole = _useState16[1];\n  var _useState17 = useState(false),\n    _useState18 = _slicedToArray(_useState17, 2),\n    permission = _useState18[0],\n    setPermission = _useState18[1];\n  var _useState19 = useState(),\n    _useState20 = _slicedToArray(_useState19, 2),\n    allLength = _useState20[0],\n    setSetAllLength = _useState20[1];\n  var _useState21 = useState({}),\n    _useState22 = _slicedToArray(_useState21, 2),\n    selectedValue = _useState22[0],\n    setSelectedValue = _useState22[1];\n  var _useState23 = useState([]),\n    _useState24 = _slicedToArray(_useState23, 2),\n    optselectedValue = _useState24[0],\n    setOptSelectedValue = _useState24[1];\n  var setRolesPermission = useCallback(function (listArray, roleId) {\n    var roleIdArray = roleId && typeof roleId == 'string' ? roleId.split(',') : roleId;\n    if (listArray && listArray.length) {\n      var selectedOptions = listArray.filter(function (item) {\n        return Array.isArray(roleIdArray) && roleIdArray.indexOf(item.value.toString()) != -1;\n      });\n      setOptSelectedValue(selectedOptions);\n      var myoptions = [];\n      myoptions = selectedOptions.map(function (id) {\n        return id.value;\n      });\n      setSelectedRole(myoptions);\n    }\n  }, [setRolesPermission, optselectedValue]);\n  var roleeditusers = useSelector(function (state) {\n    return state.Rolereducer.data;\n  });\n  useEffect(function () {\n    if (roleeditusers != undefined) {\n      setFormvalbyid(roleeditusers);\n    }\n  }, [roleeditusers]);\n  useMemo(function () {\n    if (roleeditusers && roleeditusers._id && roleeditusers.rights !== null) {\n      if (roleeditusers.rights) {\n        var userPermision = roleeditusers.rights;\n        Object.entries(permission).forEach(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n            key = _ref2[0],\n            value = _ref2[1];\n          if (!userPermision[0].hasOwnProperty(key)) {\n            userPermision[0][key] = [];\n          }\n          userPermision[0][key] = checkInternalModule(userPermision[0][key], value);\n        });\n        setPermission(userPermision[0]);\n      }\n      if (optselectedValue == null) {\n        setPermission([]);\n      }\n    } else {\n      if (optselectedValue && optselectedValue.length > 0) {\n        setPermission(_objectSpread({}, createCommonRights(optselectedValue, rightsList)));\n      } else {\n        //reset permission\n        setPermission([]);\n      }\n    }\n  }, [optselectedValue, setPermission, roleeditusers]);\n  var onChanges = function onChanges(e, permission, key, module_slug) {\n    var checked = e.target.checked;\n    setPermission(_objectSpread({}, checkNewCheckBox(checked, permission, module_slug, key)));\n  };\n  var handleSelectAll = function handleSelectAll(e, module, name) {\n    var getRightsObject = rightsList.filter(function (item) {\n      return item.module_id == module;\n    });\n    var getRightsArray = getRightsObject.map(function (item) {\n      return item.slug;\n    });\n    if (e.target.checked) {\n      if (typeof permission !== \"undefined\" && !permission.hasOwnProperty(name)) {\n        permission[name] = [];\n      }\n      permission[name] = [].concat(_toConsumableArray(permission[name]), _toConsumableArray(getRightsArray));\n      permission[name] = Array.from(new Set(permission[name]));\n    } else {\n      getRightsArray.forEach(function (item) {\n        if (permission[name].indexOf(item) > -1) {\n          permission[name].splice(permission[name].indexOf(item), 1);\n        }\n      });\n      delete permission[name];\n    }\n    setPermission(_objectSpread({}, permission));\n  };\n  var enableLoading = function enableLoading() {\n    setLoading(true);\n  };\n  var disableLoading = function disableLoading() {\n    setLoading(false);\n  };\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    if (permission && Object.keys(permission).length == 0) {\n      setPermission({});\n    }\n    var formRoleParams = {\n      rolename: formValbyid.rolename,\n      isactive: formValbyid.isactive,\n      rights: permission\n    };\n    setFormErrors(validate(formRoleParams));\n    if (Object.keys(validate(formRoleParams)).length == 0) {\n      editRole({\n        formRoleParams: formRoleParams\n      }, id, user).then(function (response) {\n        return response.json();\n      }).then(function (responseJson) {\n        if (responseJson.status === 0) {\n          setRoleNameErros(responseJson.message.rolename);\n        } else {\n          props.history.push('/roles');\n          props.RoleEdit(formRoleParams);\n          dispatch(uiActions.showAddToaster(\"Updated Successfully !\"));\n        }\n      }).catch(function (err) {\n        toast.error(\"Please enter valid field\");\n      });\n    }\n  };\n  useEffect(function () {\n    loadRoleById();\n  }, []);\n  var loadRoleById = function loadRoleById() {\n    enableLoading();\n    showRoleById(id, user).then(function (response) {\n      return response.json();\n    }).then(function (responseJson) {\n      setSelectedValue(Array.isArray(responseJson.items[0].isactive) ? responseJson.items[0].isactive.map(function (x) {\n        return x._id;\n      }) : []);\n      props.ShowROLEById(responseJson.items[0]);\n      disableLoading();\n    });\n    // .catch((err) => {\n    //   toast.error(\"Some Thning Went Wrong\");\n    // });\n  };\n\n  var validate = function validate(values) {\n    var errors = {};\n    if (!values.rolename) {\n      errors.rolename = \"Role Name is required\";\n    }\n    if (!values.isactive) {\n      errors.isactive = \"Isactive is required\";\n    }\n    if (values.rights && values.rights.length == 0) {\n      errors.rights = \"Atleats one rights id required\";\n    }\n    if (Object.values(values.rights).length == 0) {\n      errors.rights = \"Atleats one rights id required\";\n    }\n    var a = Object.keys(values.rights).length;\n    return errors;\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    title: \"Edit Role\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }\n  }), loading && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spinner spinner-primary spinner-lg spinner-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-xl-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-xl-3 col-lg-3 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 17\n    }\n  }, \"Role Name\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-9 col-xl-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Role name\",\n    className: \"form-control form-control-lg form-control-solid \",\n    name: \"rolename\",\n    value: formValbyid.rolename || '',\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 19\n    }\n  }), formErrors.rolename && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 21\n    }\n  }, formErrors.rolename), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 19\n    }\n  }, rolenameerrors ? rolenameerrors : ''))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-xl-3 col-lg-3 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 17\n    }\n  }, \"isActive\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-9 col-xl-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control form-control-lg form-control-solid\",\n    name: \"isactive\",\n    value: formValbyid.isactive,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 21\n    }\n  }, \"Active\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"inactive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 21\n    }\n  }, \"Inactive\")), formErrors.isactive && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 21\n    }\n  }, formErrors.isactive))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ModuleList, {\n    key: \"moduleList\",\n    modules: modulesList,\n    rights: rightsList,\n    onChange: onChanges,\n    allrights: permission,\n    onSelectAll: handleSelectAll,\n    length: allLength,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 17\n    }\n  }), formErrors.rights && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 19\n    }\n  }, formErrors.rights)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-toolbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-success mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 17\n    }\n  }, \"Save Changes\", /*#__PURE__*/React.createElement(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Link, {\n    to: \"/roles\",\n    className: \"btn btn-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 17\n    }\n  }, \"Cancel\")))))));\n}\n;\n\n//export default AddOlp;\nvar mapStateToProps = function mapStateToProps(formValues) {\n  return {\n    intialValues: formValues\n  };\n};\nexport default connect(mapStateToProps, {\n  RoleEdit: RoleEdit,\n  ShowROLEById: ShowROLEById\n})(EditRole);","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","Link","useParams","ToastContainer","toast","editRole","showRoleById","showModules","showRights","RoleEdit","ShowROLEById","connect","useDispatch","useSelector","Select","Card","CardHeader","Toaster","uiActions","moment","ModuleList","createCommonRights","checkNewCheckBox","checkInternalModule","isObject","EditRole","props","intialValues","rolename","isactive","rights","_useState","_useState2","_slicedToArray","formValues","setFormValues","_useState3","_useState4","formErrors","setFormErrors","_useState5","_useState6","formValbyid","setFormvalbyid","_useState7","_useState8","rolenameerrors","setRoleNameErros","_useState9","_useState10","loading","setLoading","_useState11","_useState12","setRights","_useState13","_useState14","module","setModule","dispatch","_useParams","id","user","JSON","parse","localStorage","getItem","handleChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","loadRights","loadModules","then","response","json","responseJson","items","rightsList","Object","values","map","userVal","_id","slug","module_id","moduleID","modulesList","_useState15","_useState16","selectedRole","setSelectedRole","_useState17","_useState18","permission","setPermission","_useState19","_useState20","allLength","setSetAllLength","_useState21","_useState22","selectedValue","setSelectedValue","_useState23","_useState24","optselectedValue","setOptSelectedValue","setRolesPermission","listArray","roleId","roleIdArray","split","length","selectedOptions","filter","item","Array","isArray","indexOf","toString","myoptions","roleeditusers","state","Rolereducer","data","undefined","userPermision","entries","forEach","_ref","_ref2","key","hasOwnProperty","onChanges","module_slug","checked","handleSelectAll","getRightsObject","getRightsArray","concat","_toConsumableArray","from","Set","splice","enableLoading","disableLoading","handleSubmit","preventDefault","keys","formRoleParams","validate","status","message","history","push","showAddToaster","catch","err","error","loadRoleById","x","errors","a","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","title","className","onSubmit","noValidate","type","placeholder","onChange","style","color","modules","allrights","onSelectAll","to","mapStateToProps"],"sources":["/home/shivanee/Downloads/ETM-project/react/src/app/modules/roles/EditRole.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { editRole, showRoleById, showModules, showRights } from \"./redux/functions\";\r\nimport { RoleEdit, ShowROLEById } from \"./redux/action\";\r\nimport { connect, useDispatch, useSelector } from 'react-redux';\r\nimport Select from \"react-select\";\r\nimport {\r\n  Card,\r\n  CardHeader,\r\n} from \"../../../_metronic/_partials/controls\";\r\nimport Toaster from \"../../modules/components/Toaster\";\r\nimport { uiActions } from \"../../modules/Employee/redux/uiSlice\";\r\nimport moment from 'moment';\r\nimport ModuleList from \"./ModuleList\";\r\nimport { createCommonRights, checkNewCheckBox, checkInternalModule } from './userCommon';\r\nimport { isObject } from \"lodash\";\r\n\r\n\r\n\r\n\r\nfunction EditRole(props) {\r\n\r\n  const intialValues = { rolename: \"\", isactive: \"\", rights: \"\" };\r\n  const [formValues, setFormValues] = useState(intialValues);\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [formValbyid, setFormvalbyid] = useState({});\r\n  const [rolenameerrors, setRoleNameErros] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [rights, setRights] = useState({});\r\n  const [module, setModule] = useState({});\r\n  const dispatch = useDispatch();\r\n  let { id } = useParams();\r\n  const user = JSON.parse(localStorage.getItem('user'));\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormValues({ ...formValues, [name]: value });\r\n    setFormvalbyid({ ...formValbyid, [name]: value });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadRights();\r\n    loadModules();\r\n  }, []);\r\n\r\n  const loadRights = () => {\r\n    showRights(user)\r\n      .then((response) => response.json()).then((responseJson) => {\r\n        setRights(responseJson.items);\r\n      })\r\n  };\r\n\r\n  const loadModules = () => {\r\n    showModules(user)\r\n      .then((response) => response.json()).then((responseJson) => {\r\n        setModule(responseJson.items);\r\n      })\r\n  };\r\n\r\n  const rightsList = Object.values(rights).map((userVal) => {\r\n    return {\r\n      value: userVal._id,\r\n      name: userVal.name,\r\n      slug: userVal.slug,\r\n      module_id: userVal.moduleID\r\n    }\r\n  }\r\n  );\r\n\r\n  const modulesList = Object.values(module).map((userVal) => {\r\n    return {\r\n      value: userVal._id,\r\n      name: userVal.name,\r\n      slug: userVal.slug\r\n    }\r\n  }\r\n  );\r\n\r\n  const [selectedRole, setSelectedRole] = useState([]);\r\n  const [permission, setPermission] = useState(false);\r\n  const [allLength, setSetAllLength] = useState();\r\n  const [selectedValue, setSelectedValue] = useState({});\r\n  const [optselectedValue, setOptSelectedValue] = useState([]);\r\n\r\n\r\n  const setRolesPermission = useCallback((listArray, roleId) => {\r\n    const roleIdArray = roleId && typeof roleId == 'string' ? roleId.split(',') : roleId;\r\n    if (listArray && listArray.length) {\r\n      const selectedOptions = listArray.filter(item => Array.isArray(roleIdArray)\r\n        && roleIdArray.indexOf(item.value.toString()) != -1);\r\n      setOptSelectedValue(selectedOptions);\r\n      let myoptions = []\r\n      myoptions = selectedOptions.map((id) => (\r\n        id.value\r\n      ))\r\n      setSelectedRole(myoptions)\r\n    }\r\n  }, [setRolesPermission, optselectedValue])\r\n\r\n  const roleeditusers = useSelector(state => state.Rolereducer.data);\r\n  useEffect(() => {\r\n    if (roleeditusers != undefined) {\r\n      setFormvalbyid(roleeditusers)\r\n    }\r\n  }, [roleeditusers]);\r\n  useMemo(() => {\r\n    if (roleeditusers && roleeditusers._id && roleeditusers.rights !== null) {\r\n      if (roleeditusers.rights) {\r\n        const userPermision = roleeditusers.rights;\r\n        Object.entries(permission).forEach(([key, value]) => {\r\n          if (!userPermision[0].hasOwnProperty(key)) {\r\n            userPermision[0][key] = [];\r\n          }\r\n          userPermision[0][key] = checkInternalModule(userPermision[0][key], value)\r\n        });\r\n        setPermission(userPermision[0])\r\n      }\r\n      if (optselectedValue == null) {\r\n        setPermission([]);\r\n      }\r\n    }\r\n    else {\r\n      if (optselectedValue && optselectedValue.length > 0) {\r\n        setPermission({ ...createCommonRights(optselectedValue, rightsList) });\r\n      } else {\r\n        //reset permission\r\n        setPermission([]);\r\n      }\r\n    }\r\n  }, [optselectedValue, setPermission, roleeditusers])\r\n  const onChanges = (e, permission, key, module_slug) => {\r\n    const { checked } = e.target;\r\n    setPermission({ ...checkNewCheckBox(checked, permission, module_slug, key) });\r\n  }\r\n  const handleSelectAll = (e, module, name) => {\r\n    const getRightsObject = rightsList.filter(item => item.module_id == module);\r\n    const getRightsArray = getRightsObject.map(item => item.slug);\r\n\r\n    if (e.target.checked) {\r\n      if (typeof permission !== \"undefined\" && !permission.hasOwnProperty(name)) {\r\n        permission[name] = [];\r\n      }\r\n      permission[name] = [...permission[name], ...getRightsArray];\r\n      permission[name] = Array.from(new Set(permission[name]));\r\n    } else {\r\n      getRightsArray.forEach(item => {\r\n        if (permission[name].indexOf(item) > -1) {\r\n          permission[name].splice(permission[name].indexOf(item), 1);\r\n        }\r\n      })\r\n      delete permission[name]\r\n\r\n    }\r\n    setPermission({ ...permission });\r\n  };\r\n\r\n  const enableLoading = () => {\r\n    setLoading(true);\r\n  };\r\n  const disableLoading = () => {\r\n    setLoading(false);\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (permission && Object.keys(permission).length == 0) {\r\n      setPermission({});\r\n    }\r\n    const formRoleParams = {\r\n      rolename: formValbyid.rolename,\r\n      isactive: formValbyid.isactive,\r\n      rights: permission\r\n    };\r\n    setFormErrors(validate(formRoleParams));\r\n    if (Object.keys(validate(formRoleParams)).length == 0) {\r\n      editRole({ formRoleParams }, id, user)\r\n        .then((response) => response.json()).then((responseJson) => {\r\n          if (responseJson.status === 0) {\r\n            setRoleNameErros(responseJson.message.rolename);\r\n          } else {\r\n            props.history.push('/roles')\r\n            props.RoleEdit(formRoleParams);\r\n            dispatch(uiActions.showAddToaster(\"Updated Successfully !\"));\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          toast.error(\"Please enter valid field\");\r\n        });\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    loadRoleById();\r\n  }, []);\r\n\r\n  const loadRoleById = () => {\r\n    enableLoading();\r\n    showRoleById(id, user)\r\n      .then((response) => response.json()).then((responseJson) => {\r\n        setSelectedValue(Array.isArray(responseJson.items[0].isactive) ? responseJson.items[0].isactive.map(x => x._id) : []);\r\n        props.ShowROLEById(responseJson.items[0]);\r\n        disableLoading();\r\n\r\n      })\r\n    // .catch((err) => {\r\n    //   toast.error(\"Some Thning Went Wrong\");\r\n    // });\r\n\r\n  };\r\n\r\n  const validate = (values) => {\r\n    let errors = {};\r\n    if (!values.rolename) {\r\n      errors.rolename = \"Role Name is required\";\r\n    }\r\n    if (!values.isactive) {\r\n      errors.isactive = \"Isactive is required\";\r\n    }\r\n    if (values.rights && values.rights.length == 0) {\r\n      errors.rights = \"Atleats one rights id required\";\r\n    }\r\n    if (Object.values(values.rights).length == 0) {\r\n      errors.rights = \"Atleats one rights id required\";\r\n    }\r\n    const a = Object.keys(values.rights).length;\r\n    return errors;\r\n  };\r\n  return (\r\n\r\n    <>\r\n      <Card>\r\n        <CardHeader title=\"Edit Role\" />\r\n        {loading && <div className=\"spinner spinner-primary spinner-lg spinner-center\"></div>}\r\n        <form onSubmit={handleSubmit} noValidate>\r\n\r\n\r\n          {/* begin::Form */}\r\n          <div className=\"form\">\r\n            {/* begin::Body */}\r\n            <div className=\"card-body\">\r\n              <div className=\"row\">\r\n                <label className=\"col-xl-3\"></label>\r\n\r\n              </div>\r\n              <div className=\"form-group row\">\r\n                <label className=\"col-xl-3 col-lg-3 col-form-label\">\r\n                  Role Name\r\n                </label>\r\n                <div className=\"col-lg-9 col-xl-6\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Role name\"\r\n                    className={`form-control form-control-lg form-control-solid `}\r\n                    name=\"rolename\"\r\n                    value={formValbyid.rolename || ''}\r\n                    onChange={handleChange}\r\n\r\n                  />\r\n                  {formErrors.rolename && (\r\n                    <span className=\"text-danger\">{formErrors.rolename}</span>\r\n                  )}\r\n                  <p style={{ color: 'red' }}>{rolenameerrors ? rolenameerrors : ''}</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-group row\">\r\n                <label className=\"col-xl-3 col-lg-3 col-form-label\">\r\n                  isActive\r\n                </label>\r\n                <div className=\"col-lg-9 col-xl-6\">\r\n                  <select\r\n                    className=\"form-control form-control-lg form-control-solid\"\r\n                    name=\"isactive\" value={formValbyid.isactive} onChange={handleChange}\r\n                  >\r\n                    <option value=\"active\">Active</option>\r\n                    <option value=\"inactive\">Inactive</option>\r\n                  </select>\r\n                  {formErrors.isactive && (\r\n                    <span className=\"text-danger\">{formErrors.isactive}</span>\r\n                  )}\r\n\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group row\">\r\n                <ModuleList key=\"moduleList\" modules={modulesList} rights={rightsList} onChange={onChanges}\r\n                  allrights={permission} onSelectAll={handleSelectAll} length={allLength} />\r\n                {formErrors.rights && (\r\n                  <span className=\"text-danger\">{formErrors.rights}</span>\r\n                )}\r\n              </div>\r\n              <div className=\"card-toolbar\">\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn btn-success mr-2\"\r\n                >\r\n                  Save Changes\r\n                  <ToastContainer />\r\n                </button>\r\n\r\n                <Link\r\n                  to=\"/roles\"\r\n                  className=\"btn btn-secondary\"\r\n                >\r\n                  Cancel\r\n                </Link>\r\n              </div>\r\n\r\n            </div>\r\n            {/* end::Body */}\r\n          </div>\r\n          {/* end::Form */}\r\n\r\n        </form>\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\n//export default AddOlp;\r\nconst mapStateToProps = formValues => ({\r\n  intialValues: formValues\r\n});\r\nexport default connect(mapStateToProps, { RoleEdit, ShowROLEById })(EditRole);\r\n"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,EAAEC,OAAO,QAAQ,OAAO;AACxE,SAASC,IAAI,EAAEC,SAAS,QAAQ,kBAAkB;AAClD,SAASC,cAAc,EAAEC,KAAK,QAAQ,gBAAgB;AACtD,OAAO,uCAAuC;AAC9C,SAASC,QAAQ,EAAEC,YAAY,EAAEC,WAAW,EAAEC,UAAU,QAAQ,mBAAmB;AACnF,SAASC,QAAQ,EAAEC,YAAY,QAAQ,gBAAgB;AACvD,SAASC,OAAO,EAAEC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AAC/D,OAAOC,MAAM,MAAM,cAAc;AACjC,SACEC,IAAI,EACJC,UAAU,QACL,uCAAuC;AAC9C,OAAOC,OAAO,MAAM,kCAAkC;AACtD,SAASC,SAAS,QAAQ,sCAAsC;AAChE,OAAOC,MAAM,MAAM,QAAQ;AAC3B,OAAOC,UAAU,MAAM,cAAc;AACrC,SAASC,kBAAkB,EAAEC,gBAAgB,EAAEC,mBAAmB,QAAQ,cAAc;AACxF,SAASC,QAAQ,QAAQ,QAAQ;AAKjC,SAASC,QAAQA,CAACC,KAAK,EAAE;EAEvB,IAAMC,YAAY,GAAG;IAAEC,QAAQ,EAAE,EAAE;IAAEC,QAAQ,EAAE,EAAE;IAAEC,MAAM,EAAE;EAAG,CAAC;EAC/D,IAAAC,SAAA,GAAoClC,QAAQ,CAAC8B,YAAY,CAAC;IAAAK,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAnDG,UAAU,GAAAF,UAAA;IAAEG,aAAa,GAAAH,UAAA;EAChC,IAAAI,UAAA,GAAoCvC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAAAwC,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAzCE,UAAU,GAAAD,UAAA;IAAEE,aAAa,GAAAF,UAAA;EAChC,IAAAG,UAAA,GAAsC3C,QAAQ,CAAC,CAAC,CAAC,CAAC;IAAA4C,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAA3CE,WAAW,GAAAD,UAAA;IAAEE,cAAc,GAAAF,UAAA;EAClC,IAAAG,UAAA,GAA2C/C,QAAQ,CAAC,EAAE,CAAC;IAAAgD,UAAA,GAAAZ,cAAA,CAAAW,UAAA;IAAhDE,cAAc,GAAAD,UAAA;IAAEE,gBAAgB,GAAAF,UAAA;EACvC,IAAAG,UAAA,GAA8BnD,QAAQ,CAAC,KAAK,CAAC;IAAAoD,WAAA,GAAAhB,cAAA,CAAAe,UAAA;IAAtCE,OAAO,GAAAD,WAAA;IAAEE,UAAU,GAAAF,WAAA;EAC1B,IAAAG,WAAA,GAA4BvD,QAAQ,CAAC,CAAC,CAAC,CAAC;IAAAwD,WAAA,GAAApB,cAAA,CAAAmB,WAAA;IAAjCtB,MAAM,GAAAuB,WAAA;IAAEC,SAAS,GAAAD,WAAA;EACxB,IAAAE,WAAA,GAA4B1D,QAAQ,CAAC,CAAC,CAAC,CAAC;IAAA2D,WAAA,GAAAvB,cAAA,CAAAsB,WAAA;IAAjCE,MAAM,GAAAD,WAAA;IAAEE,SAAS,GAAAF,WAAA;EACxB,IAAMG,QAAQ,GAAG/C,WAAW,EAAE;EAC9B,IAAAgD,UAAA,GAAa1D,SAAS,EAAE;IAAlB2D,EAAE,GAAAD,UAAA,CAAFC,EAAE;EACR,IAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACrD,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAIC,CAAC,EAAK;IAC1B,IAAAC,SAAA,GAAwBD,CAAC,CAACE,MAAM;MAAxBC,IAAI,GAAAF,SAAA,CAAJE,IAAI;MAAEC,KAAK,GAAAH,SAAA,CAALG,KAAK;IACnBrC,aAAa,CAAAsC,aAAA,CAAAA,aAAA,KAAMvC,UAAU,OAAAwC,eAAA,KAAGH,IAAI,EAAGC,KAAK,GAAG;IAC/C7B,cAAc,CAAA8B,aAAA,CAAAA,aAAA,KAAM/B,WAAW,OAAAgC,eAAA,KAAGH,IAAI,EAAGC,KAAK,GAAG;EACnD,CAAC;EAED1E,SAAS,CAAC,YAAM;IACd6E,UAAU,EAAE;IACZC,WAAW,EAAE;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMD,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;IACvBnE,UAAU,CAACsD,IAAI,CAAC,CACbe,IAAI,CAAC,UAACC,QAAQ;MAAA,OAAKA,QAAQ,CAACC,IAAI,EAAE;IAAA,EAAC,CAACF,IAAI,CAAC,UAACG,YAAY,EAAK;MAC1D1B,SAAS,CAAC0B,YAAY,CAACC,KAAK,CAAC;IAC/B,CAAC,CAAC;EACN,CAAC;EAED,IAAML,WAAW,GAAG,SAAdA,WAAWA,CAAA,EAAS;IACxBrE,WAAW,CAACuD,IAAI,CAAC,CACde,IAAI,CAAC,UAACC,QAAQ;MAAA,OAAKA,QAAQ,CAACC,IAAI,EAAE;IAAA,EAAC,CAACF,IAAI,CAAC,UAACG,YAAY,EAAK;MAC1DtB,SAAS,CAACsB,YAAY,CAACC,KAAK,CAAC;IAC/B,CAAC,CAAC;EACN,CAAC;EAED,IAAMC,UAAU,GAAGC,MAAM,CAACC,MAAM,CAACtD,MAAM,CAAC,CAACuD,GAAG,CAAC,UAACC,OAAO,EAAK;IACxD,OAAO;MACLd,KAAK,EAAEc,OAAO,CAACC,GAAG;MAClBhB,IAAI,EAAEe,OAAO,CAACf,IAAI;MAClBiB,IAAI,EAAEF,OAAO,CAACE,IAAI;MAClBC,SAAS,EAAEH,OAAO,CAACI;IACrB,CAAC;EACH,CAAC,CACA;EAED,IAAMC,WAAW,GAAGR,MAAM,CAACC,MAAM,CAAC3B,MAAM,CAAC,CAAC4B,GAAG,CAAC,UAACC,OAAO,EAAK;IACzD,OAAO;MACLd,KAAK,EAAEc,OAAO,CAACC,GAAG;MAClBhB,IAAI,EAAEe,OAAO,CAACf,IAAI;MAClBiB,IAAI,EAAEF,OAAO,CAACE;IAChB,CAAC;EACH,CAAC,CACA;EAED,IAAAI,WAAA,GAAwC/F,QAAQ,CAAC,EAAE,CAAC;IAAAgG,WAAA,GAAA5D,cAAA,CAAA2D,WAAA;IAA7CE,YAAY,GAAAD,WAAA;IAAEE,eAAe,GAAAF,WAAA;EACpC,IAAAG,WAAA,GAAoCnG,QAAQ,CAAC,KAAK,CAAC;IAAAoG,WAAA,GAAAhE,cAAA,CAAA+D,WAAA;IAA5CE,UAAU,GAAAD,WAAA;IAAEE,aAAa,GAAAF,WAAA;EAChC,IAAAG,WAAA,GAAqCvG,QAAQ,EAAE;IAAAwG,WAAA,GAAApE,cAAA,CAAAmE,WAAA;IAAxCE,SAAS,GAAAD,WAAA;IAAEE,eAAe,GAAAF,WAAA;EACjC,IAAAG,WAAA,GAA0C3G,QAAQ,CAAC,CAAC,CAAC,CAAC;IAAA4G,WAAA,GAAAxE,cAAA,CAAAuE,WAAA;IAA/CE,aAAa,GAAAD,WAAA;IAAEE,gBAAgB,GAAAF,WAAA;EACtC,IAAAG,WAAA,GAAgD/G,QAAQ,CAAC,EAAE,CAAC;IAAAgH,WAAA,GAAA5E,cAAA,CAAA2E,WAAA;IAArDE,gBAAgB,GAAAD,WAAA;IAAEE,mBAAmB,GAAAF,WAAA;EAG5C,IAAMG,kBAAkB,GAAGjH,WAAW,CAAC,UAACkH,SAAS,EAAEC,MAAM,EAAK;IAC5D,IAAMC,WAAW,GAAGD,MAAM,IAAI,OAAOA,MAAM,IAAI,QAAQ,GAAGA,MAAM,CAACE,KAAK,CAAC,GAAG,CAAC,GAAGF,MAAM;IACpF,IAAID,SAAS,IAAIA,SAAS,CAACI,MAAM,EAAE;MACjC,IAAMC,eAAe,GAAGL,SAAS,CAACM,MAAM,CAAC,UAAAC,IAAI;QAAA,OAAIC,KAAK,CAACC,OAAO,CAACP,WAAW,CAAC,IACtEA,WAAW,CAACQ,OAAO,CAACH,IAAI,CAAChD,KAAK,CAACoD,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC;MAAA,EAAC;MACtDb,mBAAmB,CAACO,eAAe,CAAC;MACpC,IAAIO,SAAS,GAAG,EAAE;MAClBA,SAAS,GAAGP,eAAe,CAACjC,GAAG,CAAC,UAACxB,EAAE;QAAA,OACjCA,EAAE,CAACW,KAAK;MAAA,CACT,CAAC;MACFuB,eAAe,CAAC8B,SAAS,CAAC;IAC5B;EACF,CAAC,EAAE,CAACb,kBAAkB,EAAEF,gBAAgB,CAAC,CAAC;EAE1C,IAAMgB,aAAa,GAAGjH,WAAW,CAAC,UAAAkH,KAAK;IAAA,OAAIA,KAAK,CAACC,WAAW,CAACC,IAAI;EAAA,EAAC;EAClEnI,SAAS,CAAC,YAAM;IACd,IAAIgI,aAAa,IAAII,SAAS,EAAE;MAC9BvF,cAAc,CAACmF,aAAa,CAAC;IAC/B;EACF,CAAC,EAAE,CAACA,aAAa,CAAC,CAAC;EACnB9H,OAAO,CAAC,YAAM;IACZ,IAAI8H,aAAa,IAAIA,aAAa,CAACvC,GAAG,IAAIuC,aAAa,CAAChG,MAAM,KAAK,IAAI,EAAE;MACvE,IAAIgG,aAAa,CAAChG,MAAM,EAAE;QACxB,IAAMqG,aAAa,GAAGL,aAAa,CAAChG,MAAM;QAC1CqD,MAAM,CAACiD,OAAO,CAAClC,UAAU,CAAC,CAACmC,OAAO,CAAC,UAAAC,IAAA,EAAkB;UAAA,IAAAC,KAAA,GAAAtG,cAAA,CAAAqG,IAAA;YAAhBE,GAAG,GAAAD,KAAA;YAAE/D,KAAK,GAAA+D,KAAA;UAC7C,IAAI,CAACJ,aAAa,CAAC,CAAC,CAAC,CAACM,cAAc,CAACD,GAAG,CAAC,EAAE;YACzCL,aAAa,CAAC,CAAC,CAAC,CAACK,GAAG,CAAC,GAAG,EAAE;UAC5B;UACAL,aAAa,CAAC,CAAC,CAAC,CAACK,GAAG,CAAC,GAAGjH,mBAAmB,CAAC4G,aAAa,CAAC,CAAC,CAAC,CAACK,GAAG,CAAC,EAAEhE,KAAK,CAAC;QAC3E,CAAC,CAAC;QACF2B,aAAa,CAACgC,aAAa,CAAC,CAAC,CAAC,CAAC;MACjC;MACA,IAAIrB,gBAAgB,IAAI,IAAI,EAAE;QAC5BX,aAAa,CAAC,EAAE,CAAC;MACnB;IACF,CAAC,MACI;MACH,IAAIW,gBAAgB,IAAIA,gBAAgB,CAACO,MAAM,GAAG,CAAC,EAAE;QACnDlB,aAAa,CAAA1B,aAAA,KAAMpD,kBAAkB,CAACyF,gBAAgB,EAAE5B,UAAU,CAAC,EAAG;MACxE,CAAC,MAAM;QACL;QACAiB,aAAa,CAAC,EAAE,CAAC;MACnB;IACF;EACF,CAAC,EAAE,CAACW,gBAAgB,EAAEX,aAAa,EAAE2B,aAAa,CAAC,CAAC;EACpD,IAAMY,SAAS,GAAG,SAAZA,SAASA,CAAItE,CAAC,EAAE8B,UAAU,EAAEsC,GAAG,EAAEG,WAAW,EAAK;IACrD,IAAQC,OAAO,GAAKxE,CAAC,CAACE,MAAM,CAApBsE,OAAO;IACfzC,aAAa,CAAA1B,aAAA,KAAMnD,gBAAgB,CAACsH,OAAO,EAAE1C,UAAU,EAAEyC,WAAW,EAAEH,GAAG,CAAC,EAAG;EAC/E,CAAC;EACD,IAAMK,eAAe,GAAG,SAAlBA,eAAeA,CAAIzE,CAAC,EAAEX,MAAM,EAAEc,IAAI,EAAK;IAC3C,IAAMuE,eAAe,GAAG5D,UAAU,CAACqC,MAAM,CAAC,UAAAC,IAAI;MAAA,OAAIA,IAAI,CAAC/B,SAAS,IAAIhC,MAAM;IAAA,EAAC;IAC3E,IAAMsF,cAAc,GAAGD,eAAe,CAACzD,GAAG,CAAC,UAAAmC,IAAI;MAAA,OAAIA,IAAI,CAAChC,IAAI;IAAA,EAAC;IAE7D,IAAIpB,CAAC,CAACE,MAAM,CAACsE,OAAO,EAAE;MACpB,IAAI,OAAO1C,UAAU,KAAK,WAAW,IAAI,CAACA,UAAU,CAACuC,cAAc,CAAClE,IAAI,CAAC,EAAE;QACzE2B,UAAU,CAAC3B,IAAI,CAAC,GAAG,EAAE;MACvB;MACA2B,UAAU,CAAC3B,IAAI,CAAC,MAAAyE,MAAA,CAAAC,kBAAA,CAAO/C,UAAU,CAAC3B,IAAI,CAAC,GAAA0E,kBAAA,CAAKF,cAAc,EAAC;MAC3D7C,UAAU,CAAC3B,IAAI,CAAC,GAAGkD,KAAK,CAACyB,IAAI,CAAC,IAAIC,GAAG,CAACjD,UAAU,CAAC3B,IAAI,CAAC,CAAC,CAAC;IAC1D,CAAC,MAAM;MACLwE,cAAc,CAACV,OAAO,CAAC,UAAAb,IAAI,EAAI;QAC7B,IAAItB,UAAU,CAAC3B,IAAI,CAAC,CAACoD,OAAO,CAACH,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;UACvCtB,UAAU,CAAC3B,IAAI,CAAC,CAAC6E,MAAM,CAAClD,UAAU,CAAC3B,IAAI,CAAC,CAACoD,OAAO,CAACH,IAAI,CAAC,EAAE,CAAC,CAAC;QAC5D;MACF,CAAC,CAAC;MACF,OAAOtB,UAAU,CAAC3B,IAAI,CAAC;IAEzB;IACA4B,aAAa,CAAA1B,aAAA,KAAMyB,UAAU,EAAG;EAClC,CAAC;EAED,IAAMmD,aAAa,GAAG,SAAhBA,aAAaA,CAAA,EAAS;IAC1BlG,UAAU,CAAC,IAAI,CAAC;EAClB,CAAC;EACD,IAAMmG,cAAc,GAAG,SAAjBA,cAAcA,CAAA,EAAS;IAC3BnG,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;EACD,IAAMoG,YAAY,GAAG,SAAfA,YAAYA,CAAInF,CAAC,EAAK;IAC1BA,CAAC,CAACoF,cAAc,EAAE;IAClB,IAAItD,UAAU,IAAIf,MAAM,CAACsE,IAAI,CAACvD,UAAU,CAAC,CAACmB,MAAM,IAAI,CAAC,EAAE;MACrDlB,aAAa,CAAC,CAAC,CAAC,CAAC;IACnB;IACA,IAAMuD,cAAc,GAAG;MACrB9H,QAAQ,EAAEc,WAAW,CAACd,QAAQ;MAC9BC,QAAQ,EAAEa,WAAW,CAACb,QAAQ;MAC9BC,MAAM,EAAEoE;IACV,CAAC;IACD3D,aAAa,CAACoH,QAAQ,CAACD,cAAc,CAAC,CAAC;IACvC,IAAIvE,MAAM,CAACsE,IAAI,CAACE,QAAQ,CAACD,cAAc,CAAC,CAAC,CAACrC,MAAM,IAAI,CAAC,EAAE;MACrDhH,QAAQ,CAAC;QAAEqJ,cAAc,EAAdA;MAAe,CAAC,EAAE7F,EAAE,EAAEC,IAAI,CAAC,CACnCe,IAAI,CAAC,UAACC,QAAQ;QAAA,OAAKA,QAAQ,CAACC,IAAI,EAAE;MAAA,EAAC,CAACF,IAAI,CAAC,UAACG,YAAY,EAAK;QAC1D,IAAIA,YAAY,CAAC4E,MAAM,KAAK,CAAC,EAAE;UAC7B7G,gBAAgB,CAACiC,YAAY,CAAC6E,OAAO,CAACjI,QAAQ,CAAC;QACjD,CAAC,MAAM;UACLF,KAAK,CAACoI,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;UAC5BrI,KAAK,CAACjB,QAAQ,CAACiJ,cAAc,CAAC;UAC9B/F,QAAQ,CAACzC,SAAS,CAAC8I,cAAc,CAAC,wBAAwB,CAAC,CAAC;QAC9D;MACF,CAAC,CAAC,CACDC,KAAK,CAAC,UAACC,GAAG,EAAK;QACd9J,KAAK,CAAC+J,KAAK,CAAC,0BAA0B,CAAC;MACzC,CAAC,CAAC;IACN;EACF,CAAC;EACDrK,SAAS,CAAC,YAAM;IACdsK,YAAY,EAAE;EAChB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMA,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;IACzBf,aAAa,EAAE;IACf/I,YAAY,CAACuD,EAAE,EAAEC,IAAI,CAAC,CACnBe,IAAI,CAAC,UAACC,QAAQ;MAAA,OAAKA,QAAQ,CAACC,IAAI,EAAE;IAAA,EAAC,CAACF,IAAI,CAAC,UAACG,YAAY,EAAK;MAC1D2B,gBAAgB,CAACc,KAAK,CAACC,OAAO,CAAC1C,YAAY,CAACC,KAAK,CAAC,CAAC,CAAC,CAACpD,QAAQ,CAAC,GAAGmD,YAAY,CAACC,KAAK,CAAC,CAAC,CAAC,CAACpD,QAAQ,CAACwD,GAAG,CAAC,UAAAgF,CAAC;QAAA,OAAIA,CAAC,CAAC9E,GAAG;MAAA,EAAC,GAAG,EAAE,CAAC;MACrH7D,KAAK,CAAChB,YAAY,CAACsE,YAAY,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;MACzCqE,cAAc,EAAE;IAElB,CAAC,CAAC;IACJ;IACA;IACA;EAEF,CAAC;;EAED,IAAMK,QAAQ,GAAG,SAAXA,QAAQA,CAAIvE,MAAM,EAAK;IAC3B,IAAIkF,MAAM,GAAG,CAAC,CAAC;IACf,IAAI,CAAClF,MAAM,CAACxD,QAAQ,EAAE;MACpB0I,MAAM,CAAC1I,QAAQ,GAAG,uBAAuB;IAC3C;IACA,IAAI,CAACwD,MAAM,CAACvD,QAAQ,EAAE;MACpByI,MAAM,CAACzI,QAAQ,GAAG,sBAAsB;IAC1C;IACA,IAAIuD,MAAM,CAACtD,MAAM,IAAIsD,MAAM,CAACtD,MAAM,CAACuF,MAAM,IAAI,CAAC,EAAE;MAC9CiD,MAAM,CAACxI,MAAM,GAAG,gCAAgC;IAClD;IACA,IAAIqD,MAAM,CAACC,MAAM,CAACA,MAAM,CAACtD,MAAM,CAAC,CAACuF,MAAM,IAAI,CAAC,EAAE;MAC5CiD,MAAM,CAACxI,MAAM,GAAG,gCAAgC;IAClD;IACA,IAAMyI,CAAC,GAAGpF,MAAM,CAACsE,IAAI,CAACrE,MAAM,CAACtD,MAAM,CAAC,CAACuF,MAAM;IAC3C,OAAOiD,MAAM;EACf,CAAC;EACD,oBAEE1K,KAAA,CAAA4K,aAAA,CAAA5K,KAAA,CAAA6K,QAAA,qBACE7K,KAAA,CAAA4K,aAAA,CAACzJ,IAAI;IAAA2J,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACHnL,KAAA,CAAA4K,aAAA,CAACxJ,UAAU;IAACgK,KAAK,EAAC,WAAW;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAG,EAC/B7H,OAAO,iBAAItD,KAAA,CAAA4K,aAAA;IAAKS,SAAS,EAAC,mDAAmD;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAO,eACrFnL,KAAA,CAAA4K,aAAA;IAAMU,QAAQ,EAAE3B,YAAa;IAAC4B,UAAU;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAItCnL,KAAA,CAAA4K,aAAA;IAAKS,SAAS,EAAC,MAAM;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAEnBnL,KAAA,CAAA4K,aAAA;IAAKS,SAAS,EAAC,WAAW;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACxBnL,KAAA,CAAA4K,aAAA;IAAKS,SAAS,EAAC,KAAK;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAClBnL,KAAA,CAAA4K,aAAA;IAAOS,SAAS,EAAC,UAAU;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAS,CAEhC,eACNnL,KAAA,CAAA4K,aAAA;IAAKS,SAAS,EAAC,gBAAgB;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC7BnL,KAAA,CAAA4K,aAAA;IAAOS,SAAS,EAAC,kCAAkC;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,WAEpD,CAAQ,eACRnL,KAAA,CAAA4K,aAAA;IAAKS,SAAS,EAAC,mBAAmB;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAChCnL,KAAA,CAAA4K,aAAA;IACEY,IAAI,EAAC,MAAM;IACXC,WAAW,EAAC,WAAW;IACvBJ,SAAS,oDAAqD;IAC9D1G,IAAI,EAAC,UAAU;IACfC,KAAK,EAAE9B,WAAW,CAACd,QAAQ,IAAI,EAAG;IAClC0J,QAAQ,EAAEnH,YAAa;IAAAuG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAEvB,EACDzI,UAAU,CAACV,QAAQ,iBAClBhC,KAAA,CAAA4K,aAAA;IAAMS,SAAS,EAAC,aAAa;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEzI,UAAU,CAACV,QAAQ,CACnD,eACDhC,KAAA,CAAA4K,aAAA;IAAGe,KAAK,EAAE;MAAEC,KAAK,EAAE;IAAM,CAAE;IAAAd,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEjI,cAAc,GAAGA,cAAc,GAAG,EAAE,CAAK,CAClE,CACF,eAENlD,KAAA,CAAA4K,aAAA;IAAKS,SAAS,EAAC,gBAAgB;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC7BnL,KAAA,CAAA4K,aAAA;IAAOS,SAAS,EAAC,kCAAkC;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,UAEpD,CAAQ,eACRnL,KAAA,CAAA4K,aAAA;IAAKS,SAAS,EAAC,mBAAmB;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAChCnL,KAAA,CAAA4K,aAAA;IACES,SAAS,EAAC,iDAAiD;IAC3D1G,IAAI,EAAC,UAAU;IAACC,KAAK,EAAE9B,WAAW,CAACb,QAAS;IAACyJ,QAAQ,EAAEnH,YAAa;IAAAuG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAEpEnL,KAAA,CAAA4K,aAAA;IAAQhG,KAAK,EAAC,QAAQ;IAAAkG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,QAAM,CAAS,eACtCnL,KAAA,CAAA4K,aAAA;IAAQhG,KAAK,EAAC,UAAU;IAAAkG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,UAAQ,CAAS,CACnC,EACRzI,UAAU,CAACT,QAAQ,iBAClBjC,KAAA,CAAA4K,aAAA;IAAMS,SAAS,EAAC,aAAa;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEzI,UAAU,CAACT,QAAQ,CACnD,CAEG,CACF,eACNjC,KAAA,CAAA4K,aAAA;IAAKS,SAAS,EAAC,gBAAgB;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC7BnL,KAAA,CAAA4K,aAAA,CAACpJ,UAAU;IAACoH,GAAG,EAAC,YAAY;IAACiD,OAAO,EAAE9F,WAAY;IAAC7D,MAAM,EAAEoD,UAAW;IAACoG,QAAQ,EAAE5C,SAAU;IACzFgD,SAAS,EAAExF,UAAW;IAACyF,WAAW,EAAE9C,eAAgB;IAACxB,MAAM,EAAEf,SAAU;IAAAoE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAG,EAC3EzI,UAAU,CAACR,MAAM,iBAChBlC,KAAA,CAAA4K,aAAA;IAAMS,SAAS,EAAC,aAAa;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEzI,UAAU,CAACR,MAAM,CACjD,CACG,eACNlC,KAAA,CAAA4K,aAAA;IAAKS,SAAS,EAAC,cAAc;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC3BnL,KAAA,CAAA4K,aAAA;IACEY,IAAI,EAAC,QAAQ;IACbH,SAAS,EAAC,sBAAsB;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACjC,cAEC,eAAAnL,KAAA,CAAA4K,aAAA,CAACrK,cAAc;IAAAuK,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAG,CACX,eAETnL,KAAA,CAAA4K,aAAA,CAACvK,IAAI;IACH2L,EAAE,EAAC,QAAQ;IACXX,SAAS,EAAC,mBAAmB;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC9B,QAED,CAAO,CACH,CAEF,CAEF,CAGD,CACF,CACN;AAEP;AAAC;;AAED;AACA,IAAMc,eAAe,GAAG,SAAlBA,eAAeA,CAAG3J,UAAU;EAAA,OAAK;IACrCP,YAAY,EAAEO;EAChB,CAAC;AAAA,CAAC;AACF,eAAevB,OAAO,CAACkL,eAAe,EAAE;EAAEpL,QAAQ,EAARA,QAAQ;EAAEC,YAAY,EAAZA;AAAa,CAAC,CAAC,CAACe,QAAQ,CAAC"},"metadata":{},"sourceType":"module"}